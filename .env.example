# Application Environment
APP_ENV=local

# Database Configuration
# Default for Docker Compose: postgres://app:app@postgres:5432/digest?sslmode=disable
POSTGRES_DSN=postgres://app:app@postgres:5432/digest?sslmode=disable

# Telegram Bot Configuration
BOT_TOKEN=your_bot_token_here
ADMIN_IDS=12345678,87654321
TARGET_CHAT_ID=-100123456789

# Telegram User API (MTProto)
# Get these from https://my.telegram.org
TG_API_ID=12345
TG_API_HASH=your_api_hash_here
TG_PHONE=+1234567890
TG_2FA_PASSWORD=your_2fa_password_if_any
TG_SESSION_PATH=./data/tg.session

# LLM Configuration
LLM_API_KEY=your_llm_api_key_here
LLM_MODEL=gpt-4o-mini

# Digest Settings
DIGEST_WINDOW=60m
DIGEST_TOP_N=20
RELEVANCE_THRESHOLD=0.5
IMPORTANCE_THRESHOLD=0.3

# Content Quality Controls
RELEVANCE_GATE_ENABLED=false
RELEVANCE_GATE_MODE=heuristic
RELEVANCE_GATE_MODEL=
TOPIC_DIVERSITY_CAP=0.30
FRESHNESS_DECAY_HOURS=36
FRESHNESS_FLOOR=0.4
MIN_TOPIC_COUNT=3

# Rating-Driven Threshold Tuning
AUTO_THRESHOLD_TUNING_ENABLED=false
THRESHOLD_TUNING_STEP=0.05
THRESHOLD_TUNING_MIN=0.10
THRESHOLD_TUNING_MAX=0.90
THRESHOLD_TUNING_NET_POSITIVE=0.20
THRESHOLD_TUNING_NET_NEGATIVE=-0.20
RATING_MIN_SAMPLE_CHANNEL=15
RATING_MIN_SAMPLE_GLOBAL=100

# Fact Check (Phase 1)
FACTCHECK_GOOGLE_ENABLED=false
FACTCHECK_GOOGLE_API_KEY=your_google_factcheck_key
FACTCHECK_GOOGLE_MAX_RESULTS=3
FACTCHECK_CACHE_TTL_HOURS=48
FACTCHECK_GOOGLE_RPM=60
FACTCHECK_MIN_CLAIM_LENGTH=40
FACTCHECK_QUEUE_MAX=5000

# Clustering Settings
CLUSTER_SIMILARITY_THRESHOLD=0.75
CLUSTER_COHERENCE_THRESHOLD=0.70
CLUSTER_TIME_WINDOW_HOURS=36
CROSS_TOPIC_CLUSTERING_ENABLED=false
CROSS_TOPIC_SIMILARITY_THRESHOLD=0.90

# Operations
RATE_LIMIT_RPS=1
LEADER_ELECTION_ENABLED=true
LEADER_ELECTION_LEASE_NAME=digest-scheduler-lease
